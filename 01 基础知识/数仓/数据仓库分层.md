# 数据仓库分层

1. **ODS：原始数据层**
   - 来源：
     - 数据来源可能是通过Flume监控、Sqoop导入.......
     - Flume可以定义拦截器，进行数据ETL。
     - Sqoop可以通过sql语句，进行数据ETL。
     - 所以很多情况下ods存放的ETL之后的原始数据。
   - 作用：
     - 在业务系统和数据仓库之间形成一个隔离层，保存的是原始数据或者ETL之后的原始数据
2. **DWD：数据明细层**
   - 对原始数据层进行清洗（去空、去脏数据、去超极限的数据）
   - 调整压缩算法、存储格式（行存储、列存储）
   - 是否进行维度退化，降维并不是全部弄成一张大表，还是需要区分事实表和维度表，是将雪花模型的多级维度表进行合并
   - 确定建模方式（雪花模型、星型模型等），根据建模的方式抽取维度表和事实表
3. **DWS：数据服务层**
   - 以DWD为基础，进行轻度汇总，一般聚集到以用户当日、设备当日、商家当日、商品当日等等的粒度。
   - 在这层通常会有以某一维度为线索，组成跨主题的宽表，比如一个用户的当日签到数、收藏数、评论数、抽奖数、订阅数、浏览商品数、添加购物车数、下单数、支付数等组成的多列表
4. **ADS：数据应用层**
   - 也叫DM：数据集市，以某个业务应用为出发点而建设的局部DW，DW只关心自己需要的数据，不会全盘考虑企业整体的数据架构和应用。每个应用有自己的DM。
   - 也叫APP：数据应用层
   - 面向实际的数据需求，以DWD或者DWS层的数据为基础，组成的各种统计报表